<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="
  Objective
  
  #
  

To provide a standardized procedure for deploying a new application into a Kubernetes cluster using Argo CD, following GitOps principles. This ensures that all application deployments are version-controlled, auditable, and consistently managed.

  Prerequisites
  
  #
  


Access:

Read/write access to the Git repository that will store the application&rsquo;s Kubernetes manifests (the &ldquo;config repo&rdquo;).
kubectl access to the target Kubernetes cluster with permissions to manage Argo CD resources.
Access to the Argo CD UI/CLI.


Tools: git, kubectl, and the argocd CLI installed and configured.
Knowledge: Understanding of Kubernetes manifests (Deployments, Services, Ingress, etc.) and basic Git operations.


  Steps for Bootstrapping
  
  #
  



Prepare Application Manifests:"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://runbooks.prometheus-operator.dev/runbooks/gitops/argocd-application-bootstrap/"><meta property="og:site_name" content="kube-prometheus runbooks"><meta property="og:title" content="kube-prometheus runbooks"><meta property="og:description" content="Objective#To provide a standardized procedure for deploying a new application into a Kubernetes cluster using Argo CD, following GitOps principles. This ensures that all application deployments are version-controlled, auditable, and consistently managed.
Prerequisites#Access: Read/write access to the Git repository that will store the application’s Kubernetes manifests (the “config repo”). kubectl access to the target Kubernetes cluster with permissions to manage Argo CD resources. Access to the Argo CD UI/CLI. Tools: git, kubectl, and the argocd CLI installed and configured. Knowledge: Understanding of Kubernetes manifests (Deployments, Services, Ingress, etc.) and basic Git operations. Steps for Bootstrapping#Prepare Application Manifests:"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="runbooks"><title>Argo Cd Application Bootstrap | kube-prometheus runbooks</title><link rel=icon href=/favicon.png><link rel=manifest href=/manifest.json><link rel=canonical href=https://runbooks.prometheus-operator.dev/runbooks/gitops/argocd-application-bootstrap/><link rel=stylesheet href=/book.min.ce742184041b67827be505801d71b6b40c09608dfb292033ea54dbbc1d71a174.css integrity="sha256-znQhhAQbZ4J75QWAHXG2tAwJYI37KSAz6lTbvB1xoXQ=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/en.search.min.44d74421841e5306a8c32ab0d84cda4030bf19a681bbd0ef3b95b616eea35bd6.js integrity="sha256-RNdEIYQeUwaowyqw2EzaQDC/GaaBu9DvO5W2Fu6jW9Y=" crossorigin=anonymous></script></head><body dir=ltr class="book-kind-page book-type-runbooks"><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>kube-prometheus runbooks</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li class=book-section-flat><input type=checkbox id=section-febcc99bf5ed6ad22f0c18af55312b96 class=toggle>
<label for=section-febcc99bf5ed6ad22f0c18af55312b96 class=flex><a role=button class=flex-auto>general</a></label><ul><li><a href=/runbooks/general/infoinhibitor/>Info Inhibitor</a></li><li><a href=/runbooks/general/nodenetworkinterfaceflapping/>Node Network Interface Flapping</a></li><li><a href=/runbooks/general/watchdog/>Watchdog</a></li><li><a href=/runbooks/general/targetdown/>Target Down</a></li></ul></li><li class=book-section-flat><input type=checkbox id=section-db3e163ffd356e392b64d749c66d9c07 class=toggle>
<label for=section-db3e163ffd356e392b64d749c66d9c07 class=flex><a role=button class=flex-auto>alertmanager</a></label><ul><li><a href=/runbooks/alertmanager/alertmanagerclustercrashlooping/>Alertmanager Cluster Crashlooping</a></li><li><a href=/runbooks/alertmanager/alertmanagerclusterdown/>Alertmanager Cluster Down</a></li><li><a href=/runbooks/alertmanager/alertmanagerclusterfailedtosendalerts/>Alertmanager Cluster Failed To Send Alerts</a></li><li><a href=/runbooks/alertmanager/alertmanagerconfiginconsistent/>Alertmanager ConfigInconsistent</a></li><li><a href=/runbooks/alertmanager/alertmanagerfailedreload/>Alertmanager Failed Reload</a></li><li><a href=/runbooks/alertmanager/alertmanagerfailedtosendalerts/>Alertmanager Failed To Send Alerts</a></li><li><a href=/runbooks/alertmanager/alertmanagermembersinconsistent/>Alertmanager Members Inconsistent</a></li></ul></li><li class=book-section-flat><input type=checkbox id=section-960031989fc4dfee196705f49acfe97f class=toggle>
<label for=section-960031989fc4dfee196705f49acfe97f class=flex><a role=button class=flex-auto>DevOps</a></label><ul><li><a href=/runbooks/devops/ansible_playbook_handbook_vn/>Ansible Playbook Handbook Vn</a></li><li><a href=/runbooks/devops/ci-cd-failure-resolution/>Ci Cd Failure Resolution</a></li><li><a href=/runbooks/devops/trivy-offline-scan-guide/>Trivy Offline Scan Guide</a></li></ul></li><li class=book-section-flat><input type=checkbox id=section-c5b7e8c48710cba798c1fa32906f20a3 class=toggle>
<label for=section-c5b7e8c48710cba798c1fa32906f20a3 class=flex><a role=button class=flex-auto>etcd</a></label><ul><li><a href=/runbooks/etcd/etcdbackendquotalowspace/>Etcd Backend Quota Low Space</a></li><li><a href=/runbooks/etcd/etcdgrpcrequestsslow/>Etcd Grpcrequests Slow</a></li><li><a href=/runbooks/etcd/etcdhighfsyncdurations/>Etcd High Fsync Durations</a></li><li><a href=/runbooks/etcd/etcdhighnumberoffailedgrpcrequests/>Etcd High Number of Failed Grpcrequests</a></li><li><a href=/runbooks/etcd/etcdinsufficientmembers/>Etcd Insufficient Members</a></li><li><a href=/runbooks/etcd/etcdmembersdown/>Etcd Members Down</a></li><li><a href=/runbooks/etcd/etcdnoleader/>Etcd No Leader</a></li></ul></li><li class=book-section-flat><input type=checkbox id=section-4d9573c6de4f0f219f3fca50adf1246b class=toggle checked>
<label for=section-4d9573c6de4f0f219f3fca50adf1246b class=flex><a role=button class=flex-auto>GitOps</a></label><ul><li><a href=/runbooks/gitops/argocd-application-bootstrap/ class=active>Argo Cd Application Bootstrap</a></li></ul></li><li class=book-section-flat><input type=checkbox id=section-260bf675a64908500d1b381d3fe43f5f class=toggle>
<label for=section-260bf675a64908500d1b381d3fe43f5f class=flex><a role=button class=flex-auto>kube-state-metrics</a></label><ul><li><a href=/runbooks/kube-state-metrics/kubestatemetricswatcherrors/>Kube State Metric sWatch Errors</a></li><li><a href=/runbooks/kube-state-metrics/kubestatemetricslisterrors/>Kube State Metrics List Errors</a></li><li><a href=/runbooks/kube-state-metrics/kubestatemetricsshardingmismatch/>Kube State Metrics Sharding Mismatch</a></li><li><a href=/runbooks/kube-state-metrics/kubestatemetricsshardsmissing/>Kube State Metrics Shards Missing</a></li></ul></li><li class=book-section-flat><input type=checkbox id=section-daf652c035f1499b3f30b4eaaadaf2c7 class=toggle>
<label for=section-daf652c035f1499b3f30b4eaaadaf2c7 class=flex><a role=button class=flex-auto>kubernetes</a></label><ul><li><a href=/runbooks/kubernetes/cputhrottlinghigh/>CPU Throttling High</a></li><li><a href=/runbooks/kubernetes/kubeaggregatedapidown/>Kube Aggregated API Down</a></li><li><a href=/runbooks/kubernetes/kubeaggregatedapierrors/>Kube Aggregated API Errors</a></li><li><a href=/runbooks/kubernetes/kubeapidown/>Kube API Down</a></li><li><a href=/runbooks/kubernetes/kubeapierrorbudgetburn/>Kube API Error Budget Burn</a></li><li><a href=/runbooks/kubernetes/kubeapiterminatedrequests/>Kube API Terminated Requests</a></li><li><a href=/runbooks/kubernetes/kubeclientcertificateexpiration/>Kube Client Certificate Expiration</a></li><li><a href=/runbooks/kubernetes/kubeclienterrors/>Kube Client Errors</a></li><li><a href=/runbooks/kubernetes/kubecontainerwaiting/>Kube Container Waiting</a></li><li><a href=/runbooks/kubernetes/kubecontrollermanagerdown/>Kube Controller Manager Down</a></li><li><a href=/runbooks/kubernetes/kubecpuovercommit/>Kube CPU Overcommit</a></li><li><a href=/runbooks/kubernetes/kubecpuquotaovercommit/>Kube CPU Quota Overcommit</a></li><li><a href=/runbooks/kubernetes/kubedaemonsetmisscheduled/>Kube DaemonSet MisScheduled</a></li><li><a href=/runbooks/kubernetes/kubedaemonsetnotscheduled/>Kube DaemonSet Not Scheduled</a></li><li><a href=/runbooks/kubernetes/kubedaemonsetrolloutstuck/>Kube DaemonSet Rollout Stuck</a></li><li><a href=/runbooks/kubernetes/kubedeploymentgenerationmismatch/>Kube Deployment Generation Mismatch</a></li><li><a href=/runbooks/kubernetes/kubedeploymentreplicasmismatch/>Kube Deployment Replicas Mismatch</a></li><li><a href=/runbooks/kubernetes/kubehpareplicasmismatch/>Kube HPA Replicas Mismatch</a></li><li><a href=/runbooks/kubernetes/kubehpamaxedout/>Kube HPA Maxed Out</a></li><li><a href=/runbooks/kubernetes/kubejobcompletion/>Kube Job Completion</a></li><li><a href=/runbooks/kubernetes/kubejobfailed/>Kube Job Failed</a></li><li><a href=/runbooks/kubernetes/kubememoryovercommit/>Kube Memory Overcommit</a></li><li><a href=/runbooks/kubernetes/kubememoryquotaovercommit/>Kube Memory Quota Overcommit</a></li><li><a href=/runbooks/kubernetes/kubenodenotready/>Kube Node Not Ready</a></li><li><a href=/runbooks/kubernetes/kubenodereadinessflapping/>Kube Node Readiness Flapping</a></li><li><a href=/runbooks/kubernetes/kubenodeunreachable/>Kube Node Unreachable</a></li><li><a href=/runbooks/kubernetes/kubepersistentvolumeerrors/>Kube Persistent Volume Errors</a></li><li><a href=/runbooks/kubernetes/kubepersistentvolumefillingup/>Kube Persistent Volume Filling Up</a></li><li><a href=/runbooks/kubernetes/kubepodcrashlooping/>Kube Pod Crash Looping</a></li><li><a href=/runbooks/kubernetes/kubepodnotready/>Kube Pod Not Ready</a></li><li><a href=/runbooks/kubernetes/kubequotaalmostfull/>Kube Quota Almost Full</a></li><li><a href=/runbooks/kubernetes/kubequotaexceeded/>Kube Quota Exceeded</a></li><li><a href=/runbooks/kubernetes/kubequotafullyused/>Kube Quota Fully Used</a></li><li><a href=/runbooks/kubernetes/kubeschedulerdown/>Kube Scheduler Down</a></li><li><a href=/runbooks/kubernetes/kubestatefulsetgenerationmismatch/>Kube StatefulSet Generation Mismatch</a></li><li><a href=/runbooks/kubernetes/kubestatefulsetreplicasmismatch/>Kube StatefulSet Replicas Mismatch</a></li><li><a href=/runbooks/kubernetes/kubestatefulsetupdatenotrolledout/>Kube StatefulSet Update Not RolledOut</a></li><li><a href=/runbooks/kubernetes/kubeversionmismatch/>Kube Version Mismatch</a></li><li><a href=/runbooks/kubernetes/kubeletclientcertificateexpiration/>Kubelet Client Certificate Expiration</a></li><li><a href=/runbooks/kubernetes/kubeletclientcertificaterenewalerrors/>Kubelet Client Certificate Renewal Errors</a></li><li><a href=/runbooks/kubernetes/kubeletdown/>Kubelet Down</a></li><li><a href=/runbooks/kubernetes/kubeletplegdurationhigh/>Kubelet Pod Lifecycle Event Generator Duration High</a></li><li><a href=/runbooks/kubernetes/kubeletpodstartuplatencyhigh/>Kubelet Pod Start Up Latency High</a></li><li><a href=/runbooks/kubernetes/kubeletservercertificateexpiration/>Kubelet Server Certificate Expiration</a></li><li><a href=/runbooks/kubernetes/kubeletservercertificaterenewalerrors/>Kubelet Server Certificate Renewal Errors</a></li><li><a href=/runbooks/kubernetes/kubelettoomanypods/>Kubelet Too Many Pods</a></li><li><a href=/runbooks/kubernetes/kubeproxydown/>KubeProxy Down</a></li></ul></li><li class=book-section-flat><input type=checkbox id=section-08e8a4091ab3f90a0f09dce349025634 class=toggle>
<label for=section-08e8a4091ab3f90a0f09dce349025634 class=flex><a href=/runbooks/linux/ class=flex-auto>Linux</a></label><ul><li><a href=/runbooks/linux/server-hardening/>Server Hardening</a></li></ul></li><li class=book-section-flat><input type=checkbox id=section-fd4a0b0fd48654cddf3d9df1df6f1b3a class=toggle>
<label for=section-fd4a0b0fd48654cddf3d9df1df6f1b3a class=flex><a role=button class=flex-auto>node</a></label><ul><li><a href=/runbooks/node/nodeclocknotsynchronising/>Node Clock Not Synchronising</a></li><li><a href=/runbooks/node/nodeclockskewdetected/>Node Clock Skew Detected</a></li><li><a href=/runbooks/node/nodefiledescriptorlimit/>Node File Descriptor Limit</a></li><li><a href=/runbooks/node/nodefilesystemalmostoutoffiles/>Node Filesystem Almost Out Of Files</a></li><li><a href=/runbooks/node/nodefilesystemalmostoutofspace/>Node Filesystem Almost Out Of Space</a></li><li><a href=/runbooks/node/nodefilesystemfilesfillingup/>Node Filesystem Files Filling Up</a></li><li><a href=/runbooks/node/nodefilesystemspacefillingup/>Node Filesystem Space Filling Up</a></li><li><a href=/runbooks/node/nodehighnumberconntrackentriesused/>Node High Number Conntrack Entries Used</a></li><li><a href=/runbooks/node/nodenetworkreceiveerrs/>Node Network Receive Errors</a></li><li><a href=/runbooks/node/nodenetworktransmiterrs/>Node Network Transmit Errors</a></li><li><a href=/runbooks/node/noderaiddegraded/>Node RAID Degraded</a></li><li><a href=/runbooks/node/noderaiddiskfailure/>Node RAID Disk Failure</a></li><li><a href=/runbooks/node/nodetextfilecollectorscrapeerror/>Node Text File Collector Scrape Error</a></li></ul></li><li class=book-section-flat><input type=checkbox id=section-a4be051134543e2634dd470d64290df4 class=toggle>
<label for=section-a4be051134543e2634dd470d64290df4 class=flex><a role=button class=flex-auto>prometheus</a></label><ul><li><a href=/runbooks/prometheus/prometheusbadconfig/>Prometheus Bad Config</a></li><li><a href=/runbooks/prometheus/prometheusduplicatetimestamps/>Prometheus Duplicate Timestamps</a></li><li><a href=/runbooks/prometheus/prometheuserrorsendingalertstoanyalertmanager/>Prometheus Error Sending Alerts To Any Alertmanager</a></li><li><a href=/runbooks/prometheus/prometheuserrorsendingalertstosomealertmanagers/>Prometheus Error Sending Alerts To Some Alertmanagers</a></li><li><a href=/runbooks/prometheus/prometheusfederation/>Prometheus Federation - Detailed Implementation Guide</a></li><li><a href=/runbooks/prometheus/prometheuslabellimithit/>Prometheus Label LimitHit</a></li><li><a href=/runbooks/prometheus/prometheusmissingruleevaluations/>Prometheus Missing Rule Evaluations</a></li><li><a href=/runbooks/prometheus/prometheusnotconnectedtoalertmanagers/>Prometheus Not Connected To Alertmanagers</a></li><li><a href=/runbooks/prometheus/prometheusnotingestingsamples/>Prometheus Not Ingesting Samples</a></li><li><a href=/runbooks/prometheus/prometheusnotificationqueuerunningfull/>Prometheus Notification Queue Running Full</a></li><li><a href=/runbooks/prometheus/prometheusoutofordertimestamps/>Prometheus Out Of Order Timestamps</a></li><li><a href=/runbooks/prometheus/prometheusremotestoragefailures/>Prometheus Remote Storage Failures</a></li><li><a href=/runbooks/prometheus/prometheusremotewritebehind/>Prometheus Remote Write Behind</a></li><li><a href=/runbooks/prometheus/prometheusrulefailures/>Prometheus Rule Failures</a></li><li><a href=/runbooks/prometheus/prometheustargetlimithit/>Prometheus Target Limit Hit</a></li><li><a href=/runbooks/prometheus/prometheustargetsyncfailure/>Prometheus Target Sync Failure</a></li><li><a href=/runbooks/prometheus/prometheustsdbcompactionsfailing/>Prometheus TSDB Compactions Failing</a></li><li><a href=/runbooks/prometheus/prometheustsdbreloadsfailing/>Prometheus TSDB Reloads Failing</a></li><li><a href=/runbooks/prometheus/prometheusremotewritedesiredshards/>PrometheusRemoteWriteDesiredShards</a></li></ul></li><li class=book-section-flat><input type=checkbox id=section-bdb1b659825ae46d3ea0f27214f356f6 class=toggle>
<label for=section-bdb1b659825ae46d3ea0f27214f356f6 class=flex><a role=button class=flex-auto>prometheus-operator</a></label><ul><li><a href=/runbooks/prometheus-operator/configreloadersidecarerrors/>Config Reloader Sidecar Errors</a></li><li><a href=/runbooks/prometheus-operator/prometheusoperatorlisterrors/>Prometheus Operator List Errors</a></li><li><a href=/runbooks/prometheus-operator/prometheusoperatornodelookuperrors/>Prometheus Operator Node Lookup Errors</a></li><li><a href=/runbooks/prometheus-operator/prometheusoperatornotready/>Prometheus Operator NotReady</a></li><li><a href=/runbooks/prometheus-operator/prometheusoperatorreconcileerrors/>Prometheus Operator Reconcile Errors</a></li><li><a href=/runbooks/prometheus-operator/prometheusoperatorrejectedresources/>Prometheus Operator Rejected Resources</a></li><li><a href=/runbooks/prometheus-operator/prometheusoperatorsyncfailed/>Prometheus Operator Sync Failed</a></li><li><a href=/runbooks/prometheus-operator/prometheusoperatorwatcherrors/>Prometheus Operator Watch Errors</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label><h3>Argo Cd Application Bootstrap</h3><label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><ul><li><a href=#objective>Objective</a></li><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#steps-for-bootstrapping>Steps for Bootstrapping</a></li><li><a href=#verification>Verification</a></li><li><a href=#troubleshooting>Troubleshooting</a></li><li><a href=#escalation>Escalation</a></li></ul></li></ul></nav></aside></header><article class="markdown book-article"><h3 id=objective>Objective
<a class=anchor href=#objective>#</a></h3><p>To provide a standardized procedure for deploying a new application into a Kubernetes cluster using Argo CD, following GitOps principles. This ensures that all application deployments are version-controlled, auditable, and consistently managed.</p><h3 id=prerequisites>Prerequisites
<a class=anchor href=#prerequisites>#</a></h3><ul><li><strong>Access:</strong><ul><li>Read/write access to the Git repository that will store the application&rsquo;s Kubernetes manifests (the &ldquo;config repo&rdquo;).</li><li><code>kubectl</code> access to the target Kubernetes cluster with permissions to manage Argo CD resources.</li><li>Access to the Argo CD UI/CLI.</li></ul></li><li><strong>Tools:</strong> <code>git</code>, <code>kubectl</code>, and the <code>argocd</code> CLI installed and configured.</li><li><strong>Knowledge:</strong> Understanding of Kubernetes manifests (Deployments, Services, Ingress, etc.) and basic Git operations.</li></ul><h3 id=steps-for-bootstrapping>Steps for Bootstrapping
<a class=anchor href=#steps-for-bootstrapping>#</a></h3><ol><li><p><strong>Prepare Application Manifests:</strong></p><ul><li>Create a new directory for your application within the designated GitOps config repository (e.g., <code>apps/my-new-app/</code>).</li><li>Place all necessary Kubernetes YAML manifests for the application in this directory. This typically includes a <code>Deployment</code>, <code>Service</code>, and <code>Ingress</code>.</li><li>It is highly recommended to use a tool like Kustomize or Helm for templating. If using Kustomize, include a <code>kustomization.yaml</code> file.</li></ul></li><li><p><strong>Commit and Push Manifests:</strong></p><ul><li>Add the new application directory to Git, commit the files, and push them to the remote repository.</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git add apps/my-new-app/
</span></span><span style=display:flex><span>git commit -m <span style=color:#e6db74>&#34;feat(app): Add manifests for my-new-app&#34;</span>
</span></span><span style=display:flex><span>git push
</span></span></code></pre></div></li><li><p><strong>Create the Argo CD Application Resource:</strong></p><ul><li>An Argo CD <code>Application</code> is a Custom Resource Definition (CRD) that tells Argo CD how to manage your app. Create a file named <code>argocd-app.yaml</code> with the following content:</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>argoproj.io/v1alpha1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Application</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>my-new-app</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>namespace</span>: <span style=color:#ae81ff>argocd</span> <span style=color:#75715e># This application resource must be created in the argocd namespace</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>project</span>: <span style=color:#ae81ff>default</span> <span style=color:#75715e># Or your specific Argo CD project</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>source</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>repoURL</span>: <span style=color:#e6db74>&#39;https://github.com/your-org/gitops-config-repo.git&#39;</span> <span style=color:#75715e># URL to your config repo</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>path</span>: <span style=color:#ae81ff>apps/my-new-app</span> <span style=color:#75715e># Path to the manifests within the repo</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>targetRevision</span>: <span style=color:#ae81ff>HEAD</span> <span style=color:#75715e># Or a specific branch/tag</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>destination</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>server</span>: <span style=color:#e6db74>&#39;https://kubernetes.default.svc&#39;</span> <span style=color:#75715e># Target cluster URL</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>namespace</span>: <span style=color:#e6db74>&#39;my-app-namespace&#39;</span> <span style=color:#75715e># Namespace where the app should be deployed</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>syncPolicy</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>automated</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>prune</span>: <span style=color:#66d9ef>true</span> <span style=color:#75715e># Deletes resources that are no longer in Git</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>selfHeal</span>: <span style=color:#66d9ef>true</span> <span style=color:#75715e># Reverts any manual changes made in the cluster</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>syncOptions</span>:
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>CreateNamespace=true</span> <span style=color:#75715e># Creates the destination namespace if it doesn&#39;t exist</span>
</span></span></code></pre></div></li><li><p><strong>Apply the Application CRD:</strong></p><ul><li>Use <code>kubectl</code> to apply this manifest to your cluster. This registers the new application with Argo CD.</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl apply -f argocd-app.yaml
</span></span></code></pre></div></li></ol><h3 id=verification>Verification
<a class=anchor href=#verification>#</a></h3><ol><li><p><strong>Check Sync Status in Argo CD UI:</strong></p><ul><li>Log in to the Argo CD web interface.</li><li>Your new application <code>my-new-app</code> should appear. Initially, its status will be <code>OutOfSync</code>.</li><li>Argo CD will automatically start the synchronization process (due to the <code>automated</code> sync policy). The status should transition to <code>Progressing</code> and finally to <code>Healthy</code> and <code>Synced</code>.</li></ul></li><li><p><strong>Verify with <code>argocd</code> CLI:</strong></p><ul><li>Use the CLI to check the application&rsquo;s health and sync status.</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>argocd app get my-new-app
</span></span></code></pre></div><ul><li>Look for <code>Health Status: Healthy</code> and <code>Sync Status: Synced</code>.</li></ul></li><li><p><strong>Verify in Kubernetes:</strong></p><ul><li>Use <code>kubectl</code> to confirm that the application&rsquo;s resources (Pods, Services) were created and are running correctly in the target namespace.</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl get all -n my-app-namespace
</span></span></code></pre></div></li></ol><h3 id=troubleshooting>Troubleshooting
<a class=anchor href=#troubleshooting>#</a></h3><ul><li><strong>Issue: Application is <code>OutOfSync</code> and not syncing.</strong><ul><li><strong>Cause:</strong> The <code>syncPolicy</code> might not be set to <code>automated</code>.</li><li><strong>Fix:</strong> Manually trigger a sync via the Argo CD UI or CLI: <code>argocd app sync my-new-app</code>.</li></ul></li><li><strong>Issue: Sync fails with an error.</strong><ul><li><strong>Cause:</strong> The Kubernetes manifests in the Git repository might have syntax errors, or Argo CD might lack the permissions to create the resources.</li><li><strong>Fix:</strong> Check the sync error details in the Argo CD UI. Correct the manifests in Git or adjust the Argo CD service account&rsquo;s RBAC permissions.</li></ul></li><li><strong>Issue: ImagePullBackOff or CrashLoopBackOff.</strong><ul><li><strong>Cause:</strong> Kubernetes cannot pull the container image or the application is crashing.</li><li><strong>Fix:</strong> This is an application runtime issue, not a GitOps issue. Use <code>kubectl describe pod &lt;pod-name> -n my-app-namespace</code> and <code>kubectl logs &lt;pod-name> -n my-app-namespace</code> to diagnose the problem.</li></ul></li></ul><h3 id=escalation>Escalation
<a class=anchor href=#escalation>#</a></h3><ul><li><strong>Who:</strong> The DevOps/Platform Engineering team.</li><li><strong>When:</strong> If you cannot resolve sync failures related to RBAC permissions, CRDs, or cluster connectivity.</li></ul><hr></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><div class="flex flex-wrap justify-between"><span><a href=/runbooks/etcd/etcdnoleader/ class="flex align-center book-icon"><img src=/svg/backward.svg class=book-icon alt=Previous title="Etcd No Leader">
<span>Etcd No Leader</span>
</a></span><span><a href=/runbooks/kube-state-metrics/kubestatemetricswatcherrors/ class="flex align-center book-icon"><span>Kube State Metric sWatch Errors</span>
<img src=/svg/forward.svg class=book-icon alt=Next title="Kube State Metric sWatch Errors"></a></span></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><ul><li><a href=#objective>Objective</a></li><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#steps-for-bootstrapping>Steps for Bootstrapping</a></li><li><a href=#verification>Verification</a></li><li><a href=#troubleshooting>Troubleshooting</a></li><li><a href=#escalation>Escalation</a></li></ul></li></ul></nav></div></aside></main></body></html>